$(document).ready(function(){Vue.component("casalist",{template:"#casa-list",props:["casas"]}),new Vue({el:"#main",data:{casas:null,checkedNames:[],selected:2},created:function(){this.getcasa(2)},methods:{getcasa:function(){var e=this;$.getJSON("/api/casa/recom/"+this.selected,function(a){e.casas=a,e.sel()})},save:function(){var e=this;$.ajax("/api/recom/save",{type:"post",data:{city:vm.selected,casa:vm.checkedNames},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(a){a.msg&&($(".alert").css("display","block"),$(".alert").delay("slow").slideUp(500),e.sel())}}),this.checkedNames=[]},sel:function(){var e=this;$.getJSON("/api/home/recom/"+this.selected,function(a){for(var s=0;s<a.length;s++)e.checkedNames.push(a[s].id.toString())})}}})});